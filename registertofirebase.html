<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
     <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
</head>
<body>
    <h1>Register</h1>
    <form id="registerForm">
        <input type="email" id="registerEmail" placeholder="Email" style="width:225px; height: 31px;" required>
        <input type="password" id="registerPassword" placeholder="Password" style="width:225px; height: 31px;" required>
        <button type="submit" style="width:75px; height: 35px;">Register</button>
    </form>
    <script>
        // Your Firebase configuration
        const firebaseConfig = {
               apiKey: "AIzaSyBU0ns9VzWBxbHOIgTR-Yb6g1aFbOQEWFA",
        authDomain: "engineerr1983meet.firebaseapp.com",
        projectId: "engineerr1983meet",
        storageBucket: "engineerr1983meet.appspot.com",
        messagingSenderId: "308801516934",
        appId: "1:308801516934:web:1a3833be5e03dfbcd66807",
        measurementId: "G-X22VZ2TVWT"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        const auth = firebase.auth();
        const firestore = firebase.firestore();

        // Registration form submission handler
        document.getElementById('registerForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;

           
            auth.createUserWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // Signed up successfully
                    const user = userCredential.user;

                    // Save email and password to Firestore
                    firestore.collection('users_tbl').add({
                        email: email,
                        password: password
                    })
                    .then(() => {
                        console.log('User data saved to Firestore.');
                    })
                    .catch((error) => {
                        console.error('Error saving user data to Firestore:', error.message);
                    });

                    // Send email verification
                    user.sendEmailVerification()
                        .then(() => {
                            console.log('Verification email sent.');
                            alert('Verification email sent. Please check your inbox.');
                        });
                })
                .catch((error) => {
                    console.error('Error during sign up:', error.message);
                });
        });
    </script>
</body>
</html>
