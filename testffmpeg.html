<html>
  <head>
<script src="scripts/ffmpeg.js"></script>
<script>
    function ffmpegLoaded() {
        console.log('FFmpeg script loaded. Initializing...');

        // Check if FFmpeg is ready
        const { createFFmpeg, fetchFile } = FFmpeg; // This will be defined after FFmpeg is loaded
        const ffmpeg = createFFmpeg({ log: true });

        ffmpeg.load().then(() => {
            console.log('FFmpeg is ready to use.');
            // FFmpeg is now fully loaded and ready for commands
            // You can initialize any FFmpeg related tasks here
        }).catch(err => {
            console.error('Error loading FFmpeg:', err);
        });
    }

    // Function to check for FFmpeg availability
    function checkFFmpegAvailability() {
        if (typeof FFmpeg !== 'undefined') {
            ffmpegLoaded();
            clearInterval(ffmpegCheckInterval); // Clear the interval once FFmpeg is available
        } else {
            console.log('FFmpeg is not available yet. Checking again...');
        }
    }
    
    // Set an interval to check for FFmpeg availability every 100 milliseconds
    const ffmpegCheckInterval = setInterval(checkFFmpegAvailability, 100);
</script>
  </head>
  <body>
test..
  </body>
  <html>
